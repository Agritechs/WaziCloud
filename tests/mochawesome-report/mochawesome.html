<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:70,&quot;tests&quot;:72,&quot;passes&quot;:57,&quot;pending&quot;:0,&quot;failures&quot;:15,&quot;start&quot;:&quot;2018-02-08T15:58:36.793Z&quot;,&quot;end&quot;:&quot;2018-02-08T15:58:43.251Z&quot;,&quot;duration&quot;:6458,&quot;testsRegistered&quot;:72,&quot;passPercent&quot;:79.2,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false,&quot;passPercentClass&quot;:&quot;warning&quot;,&quot;pendingPercentClass&quot;:&quot;danger&quot;},&quot;suites&quot;:{&quot;uuid&quot;:&quot;2558f5dc-ff0d-4429-87c9-3df7bccea7c5&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:185,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(&#x27;/auth/token&#x27;)\n  .send(userCredentials)\n  .end(function (err, response) {\n    token = response.text;\n  });\n//create sample notification\nchai.request(baseUrl)\n  .post(`/domains/${domain}/notifications`)\n  .send(notification)\n  .end((err, res) =&gt; {\n    chai.request(baseUrl)\n      .get(`/domains/${domain}/notifications`)\n      .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n      .end((err, res) =&gt; {\n        sampleNotification = res.body[0];\n        done();\n      });\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:true,&quot;uuid&quot;:&quot;d7e02334-2eb5-4d64-9834-0d3cfc4cc3ae&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(&#x27;/auth/token&#x27;)\n  .send(userCredentials)\n  .end(function (err, response) {\n    token = response.text;\n    chai.request(baseUrl)\n      .delete(`/domains/${domain}/sensors/${sensor.id}`)\n      .end((err, rss) =&gt; {\n        done();\n      })\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:true,&quot;uuid&quot;:&quot;5a5a77c1-1556-40ca-8034-fd07b27d387e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1e88dd80-e259-4dc4-8739-58a20920e150&quot;,&quot;title&quot;:&quot;Domains with admin Previledges&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/domains.admin.test.js&quot;,&quot;file&quot;:&quot;/test/domains.admin.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Domains with admin Previledges \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(&#x27;/auth/token&#x27;)\n  .send(userCredentials)\n  .end(function (err, response) {\n    token = response.text;\n    chai.request(baseUrl)\n      .delete(`/domains/${domainData.id}`)\n      .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n      .end((err, res) =&gt; {\n        done();\n      });\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d7d02468-82ec-42b2-bc95-d328be6504f2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Domains with admin Previledges \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .delete(`/domains/${domainData.id}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c7f998ff-a6c4-40d5-9ef2-642a2ff3a22b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0dd22fff-8d8d-4f9b-93c2-54688123ad2e&quot;,&quot;title&quot;:&quot;create a domain&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/domains.admin.test.js&quot;,&quot;file&quot;:&quot;/test/domains.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should Create a domain&quot;,&quot;fullTitle&quot;:&quot;Domains with admin Previledges create a domain it should Create a domain&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:144,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(`/domains`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send(domainData)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;311803de-9170-4ee6-bfe3-2ef42667d557&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it shouldn&#x27;t Create a domain for repeated data&quot;,&quot;fullTitle&quot;:&quot;Domains with admin Previledges create a domain it shouldn&#x27;t Create a domain for repeated data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(`/domains`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send(domainData)\n  .end((err, res) =&gt; {\n    res.should.have.status(422);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e33d7ecb-56c5-4b74-895e-0a2a745aeeea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;311803de-9170-4ee6-bfe3-2ef42667d557&quot;,&quot;e33d7ecb-56c5-4b74-895e-0a2a745aeeea&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:160,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;8338dea3-702d-46f0-9d91-ae7dfbeabbc7&quot;,&quot;title&quot;:&quot;Get all Domains&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/domains.admin.test.js&quot;,&quot;file&quot;:&quot;/test/domains.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all the domains&quot;,&quot;fullTitle&quot;:&quot;Domains with admin Previledges Get all Domains it should GET all the domains&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    res.body.should.be.a(&#x27;array&#x27;);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bfece283-d9d0-466c-9a2c-8b3010a9314a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bfece283-d9d0-466c-9a2c-8b3010a9314a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;d016313b-1e48-40a2-91ca-6d775732c989&quot;,&quot;title&quot;:&quot;Get a single domain&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/domains.admin.test.js&quot;,&quot;file&quot;:&quot;/test/domains.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should get a single domain&quot;,&quot;fullTitle&quot;:&quot;Domains with admin Previledges Get a single domain it should get a single domain&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/${domainData.id}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6f504c96-b89c-457a-8618-608e048515da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should return not found for domain that doesnt exist&quot;,&quot;fullTitle&quot;:&quot;Domains with admin Previledges Get a single domain it should return not found for domain that doesnt exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/this-id-doesnt-exist${Date.now()}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(404);\n    done();\n  });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 404 but got 403&quot;,&quot;estack&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 404 but got 403\n    at chai.request.get.set.end (test/domains.admin.test.js:87:27)\n    at Test.Request.callback (node_modules/superagent/lib/node/index.js:631:3)\n    at node_modules/superagent/lib/node/index.js:795:18\n    at IncomingMessage.&lt;anonymous&gt; (node_modules/superagent/lib/node/parsers/json.js:16:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)&quot;,&quot;diff&quot;:&quot;- 403\n+ 404\n&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;78682f51-56bb-4614-9215-bec32145efce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6f504c96-b89c-457a-8618-608e048515da&quot;],&quot;failures&quot;:[&quot;78682f51-56bb-4614-9215-bec32145efce&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:null,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;3b74ee96-821e-42e3-9cfb-208b0660f301&quot;,&quot;title&quot;:&quot;Remove Domain&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/domains.admin.test.js&quot;,&quot;file&quot;:&quot;/test/domains.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should remove a single domain&quot;,&quot;fullTitle&quot;:&quot;Domains with admin Previledges Remove Domain it should remove a single domain&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:62,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .delete(`/domains/${domainData.id}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d3bbef82-2e48-4ddf-a41e-159cc61a2880&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should return not found for domain that doesnt exist&quot;,&quot;fullTitle&quot;:&quot;Domains with admin Previledges Remove Domain it should return not found for domain that doesnt exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .delete(`/domains/this-id-doesnt-exist${Date.now()}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(404);\n    done();\n  });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 404 but got 403&quot;,&quot;estack&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 404 but got 403\n    at chai.request.delete.set.end (test/domains.admin.test.js:107:27)\n    at Test.Request.callback (node_modules/superagent/lib/node/index.js:631:3)\n    at node_modules/superagent/lib/node/index.js:795:18\n    at IncomingMessage.&lt;anonymous&gt; (node_modules/superagent/lib/node/parsers/json.js:16:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)&quot;,&quot;diff&quot;:&quot;- 403\n+ 404\n&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;869a50b7-f2e0-4fb1-a779-302f324048c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d3bbef82-2e48-4ddf-a41e-159cc61a2880&quot;],&quot;failures&quot;:[&quot;869a50b7-f2e0-4fb1-a779-302f324048c2&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:null,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;45bf4730-6423-43c5-8945-30ef643ed72d&quot;,&quot;title&quot;:&quot;Domains&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/domains.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/domains.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Domains \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:231,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(&#x27;/auth/token&#x27;)\n  .send(userCredentials)\n  .end(function (err, response) {\n    token = response.text;\n    chai.request(baseUrl)\n      .delete(`/domains/${domainData.id}`)\n      .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n      .end((err, res) =&gt; {\n        chai.request(baseUrl)\n          .post(`/domains`)\n          .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n          .send(domainDataAlt)\n          .end((err, res) =&gt; {\n            done();\n          });\n      });\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;48afe178-5c16-468a-bf66-685d38c252db&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Domains \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:62,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .delete(`/domains/${domainData.id}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    chai.request(baseUrl)\n      .delete(`/domains/${domainDataAlt.id}`)\n      .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n      .end((err, res) =&gt; {\n        done();\n      });\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;96d8c2b2-5efd-4ac7-88fc-acf22b7e40ee&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;730fec24-0f28-41a5-93d1-9cbc9520b606&quot;,&quot;title&quot;:&quot;create a domain&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/domains.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/domains.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should Create a domain&quot;,&quot;fullTitle&quot;:&quot;Domains create a domain it should Create a domain&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(`/domains`)\n  .send(domainData)\n  .end((err, res) =&gt; {\n    res.should.have.status(403);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;065b4e54-66ed-4dd0-a137-36c04b2183e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;065b4e54-66ed-4dd0-a137-36c04b2183e3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:92,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;9ee02b8e-6783-4599-9e6f-f4de753ff5f7&quot;,&quot;title&quot;:&quot;Get all Domains&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/domains.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/domains.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all the domains&quot;,&quot;fullTitle&quot;:&quot;Domains Get all Domains it should GET all the domains&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    res.body.should.be.a(&#x27;array&#x27;);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1fe49f09-2484-41c5-8985-80f9817631f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1fe49f09-2484-41c5-8985-80f9817631f7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:101,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;238eea33-4543-4c6b-86c3-90b3950ce7a1&quot;,&quot;title&quot;:&quot;Get a single domain&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/domains.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/domains.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should get a single domain&quot;,&quot;fullTitle&quot;:&quot;Domains Get a single domain it should get a single domain&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:107,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/${domainDataAlt.id}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;00fe7749-5886-4fd8-94ba-479691d12d2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should return not found for domain that doesnt exist&quot;,&quot;fullTitle&quot;:&quot;Domains Get a single domain it should return not found for domain that doesnt exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/this-id-doesnt-exist${Date.now()}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(404);\n    done();\n  });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 404 but got 403&quot;,&quot;estack&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 404 but got 403\n    at chai.request.get.end (test/domains.unauthorized.test.js:86:27)\n    at Test.Request.callback (node_modules/superagent/lib/node/index.js:631:3)\n    at node_modules/superagent/lib/node/index.js:795:18\n    at IncomingMessage.&lt;anonymous&gt; (node_modules/superagent/lib/node/parsers/json.js:16:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)&quot;,&quot;diff&quot;:&quot;- 403\n+ 404\n&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b414618d-14ad-49f0-87de-115cf430c377&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;00fe7749-5886-4fd8-94ba-479691d12d2b&quot;],&quot;failures&quot;:[&quot;b414618d-14ad-49f0-87de-115cf430c377&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:null,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;3fb86ded-7c84-4e7a-9bb2-103d893c908a&quot;,&quot;title&quot;:&quot;Remove Domain&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/domains.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/domains.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should remove a single domain&quot;,&quot;fullTitle&quot;:&quot;Domains Remove Domain it should remove a single domain&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .delete(`/domains/${domainDataAlt.id}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(403);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e280ed62-0f90-49d7-b6f6-73da041b2324&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e280ed62-0f90-49d7-b6f6-73da041b2324&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:93,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;907139df-747b-4145-a4be-5f67036607db&quot;,&quot;title&quot;:&quot;Entities with admin previledges&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/entities.admin.test.js&quot;,&quot;file&quot;:&quot;/test/entities.admin.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Entities with admin previledges \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:97,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n\t.post(&#x27;/auth/token&#x27;)\n\t.send(userCredentials)\n\t.end(function (err, response) {\n\t\ttoken = response.text;\n\t\tchai.request(baseUrl)\n\t\t\t.delete(`/domains/${domain}/entities/${entities.type}/${entities.id}`)\n\t\t\t.set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n\t\t\t.end((err, rss) =&gt; {\n\t\t\t\tdone();\n\t\t\t})\n\t});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;15901133-6b58-4450-a47e-0b27ca28757a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Entities with admin previledges \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n\t.delete(`/domains/${domain}/entities/${entities.type}/${entities.id}`)\n\t.set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n\t.end((err, rss) =&gt; {\n\t\tdone();\n\t})&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;44e29080-f00a-4b8d-8e3b-1a685d799e8b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;552c4d49-c2c4-4eea-8340-4ce06fe6f322&quot;,&quot;title&quot;:&quot;create a new entity&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/entities.admin.test.js&quot;,&quot;file&quot;:&quot;/test/entities.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should create a new entity&quot;,&quot;fullTitle&quot;:&quot;Entities with admin previledges create a new entity it should create a new entity&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n\t.post(`/domains/${domain}/entities`)\n\t.set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n\t.send(entities)\n\t.end((err, res) =&gt; {\n\t\tres.should.have.status(200);\n\t\tdone();\n\t});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e5becc6d-31a6-46cd-9618-f37f8ed38efe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e5becc6d-31a6-46cd-9618-f37f8ed38efe&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;a0d7b5f3-538c-4654-b696-01a9a7525ac4&quot;,&quot;title&quot;:&quot;get all known entity types&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/entities.admin.test.js&quot;,&quot;file&quot;:&quot;/test/entities.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all known entity types&quot;,&quot;fullTitle&quot;:&quot;Entities with admin previledges get all known entity types it should GET all known entity types&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n\t.get(`/domains/${domain}/entities/types`)\n\t.set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n\t.end((err, res) =&gt; {\n\t\tres.should.have.status(200);\n\t\tres.body.should.be.a(&#x27;array&#x27;);\n\t\tdone();\n\t});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1e5ae457-0bd6-4dfe-b36f-1b07782706b7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1e5ae457-0bd6-4dfe-b36f-1b07782706b7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;e0d19bb3-91e2-4f29-a603-c19b2d15ad21&quot;,&quot;title&quot;:&quot;get entities of one type&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/entities.admin.test.js&quot;,&quot;file&quot;:&quot;/test/entities.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET entities of one type&quot;,&quot;fullTitle&quot;:&quot;Entities with admin previledges get entities of one type it should GET entities of one type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n\t.get(`/domains/${domain}/entities/${entities.type}`)\n\t.set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n\t.end((err, res) =&gt; {\n\t\tres.should.have.status(200);\n\t\tres.body.should.be.a(&#x27;array&#x27;);\n\t\tdone();\n\t});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;fef46410-147f-4e4c-8fad-0486a90fd818&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fef46410-147f-4e4c-8fad-0486a90fd818&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;90c8cf23-d490-4408-8744-45b86e8dbc36&quot;,&quot;title&quot;:&quot;get a single entity&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/entities.admin.test.js&quot;,&quot;file&quot;:&quot;/test/entities.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET a single entity&quot;,&quot;fullTitle&quot;:&quot;Entities with admin previledges get a single entity it should GET a single entity&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n\t.get(`/domains/${domain}/entities/${entities.type}/${entities.id}`)\n\t.set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n\t.end((err, res) =&gt; {\n\t\tres.should.have.status(200);\n\t\tres.body.should.be.a(&#x27;object&#x27;);\n\t\tdone();\n\t});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e7336a1d-90d9-44f6-86f3-5d0fc7331b32&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e7336a1d-90d9-44f6-86f3-5d0fc7331b32&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;86d8ad49-26f2-40f9-b2d6-8037f077a82d&quot;,&quot;title&quot;:&quot;add an entity attribute value&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/entities.admin.test.js&quot;,&quot;file&quot;:&quot;/test/entities.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should add an entity attribute value&quot;,&quot;fullTitle&quot;:&quot;Entities with admin previledges add an entity attribute value it should add an entity attribute value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n\t.post(`/domains/${domain}/entities/${entities.type}/${entities.id}/temprature`)\n\t.set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n\t.send({\n\t\t\&quot;value\&quot;: \&quot;25.6\&quot;,\n\t\t\&quot;timestamp\&quot;: \&quot;2016-06-08T18:20:27.873Z\&quot;\n\t})\n\t.end((err, res) =&gt; {\n\t\tres.should.have.status(200);\n\t\tdone();\n\t});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3c289fe4-190c-4e52-a7ac-bf31c0ec70e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3c289fe4-190c-4e52-a7ac-bf31c0ec70e9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;56ddf3fe-3596-4b97-bfae-4822283d335b&quot;,&quot;title&quot;:&quot;get entity attribute values&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/entities.admin.test.js&quot;,&quot;file&quot;:&quot;/test/entities.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should get entity attribute values&quot;,&quot;fullTitle&quot;:&quot;Entities with admin previledges get entity attribute values it should get entity attribute values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n\t.get(`/domains/${domain}/entities/${entities.type}/${entities.id}/temprature`)\n\t.set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n\t.end((err, res) =&gt; {\n\t\tres.should.have.status(200);\n\t\tdone();\n\t});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;881d6ab1-34e5-49ef-9a06-8c78143ae0ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;881d6ab1-34e5-49ef-9a06-8c78143ae0ab&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:20,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;fddc272e-1cb6-48ba-8f94-9b6b96eead14&quot;,&quot;title&quot;:&quot;set entity attribute values&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/entities.admin.test.js&quot;,&quot;file&quot;:&quot;/test/entities.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should set entity attribute values&quot;,&quot;fullTitle&quot;:&quot;Entities with admin previledges set entity attribute values it should set entity attribute values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n\t.put(`/domains/${domain}/entities/${entities.type}/${entities.id}/temprature`)\n\t.set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n\t.send({\n\t\t\&quot;value\&quot;: \&quot;26.6\&quot;,\n\t\t\&quot;timestamp\&quot;: \&quot;2016-06-08T18:20:27.873Z\&quot;\n\t})\n\t.end((err, res) =&gt; {\n\t\tres.should.have.status(200);\n\t\tdone();\n\t});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cd82ffc5-598d-4bdc-8fe4-3b44c6ada2b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cd82ffc5-598d-4bdc-8fe4-3b44c6ada2b0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;7422e02e-1700-48fb-a9d3-8c1d0bd8e0b5&quot;,&quot;title&quot;:&quot;delete an entity attribute&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/entities.admin.test.js&quot;,&quot;file&quot;:&quot;/test/entities.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should delete an entity attribute&quot;,&quot;fullTitle&quot;:&quot;Entities with admin previledges delete an entity attribute it should delete an entity attribute&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n\t.put(`/domains/${domain}/entities/${entities.type}/${entities.id}/temprature`)\n\t.set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n\t.send({\n\t\t\&quot;value\&quot;: \&quot;26.6\&quot;,\n\t\t\&quot;timestamp\&quot;: \&quot;2016-06-08T18:20:27.873Z\&quot;\n\t})\n\t.end((err, res) =&gt; {\n\t\tres.should.have.status(200);\n\t\tdone();\n\t});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c096caaf-6f85-49b4-a536-9d7e8a75a8e6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c096caaf-6f85-49b4-a536-9d7e8a75a8e6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;3be85a85-a4f6-4d49-8ef1-59277573330a&quot;,&quot;title&quot;:&quot;Measurements with admin previledges&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/measurment.admin.test.js&quot;,&quot;file&quot;:&quot;/test/measurment.admin.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Measurements with admin previledges \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:235,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(&#x27;/auth/token&#x27;)\n  .send(userCredentials)\n  .end(function (err, response) {\n    token = response.text;\n    chai.request(baseUrl)\n      .post(`/domains/${domain}/sensors`)\n      .set(&#x27;authorization&#x27;, `Bearer ${token}`)\n      .send(sensor)\n      .end((err, res) =&gt; {\n        done();\n      });\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d8c71eb7-fd84-42c8-a127-3d778f72d11b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Measurements with admin previledges \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:69,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .delete(`/domains/${domain}/sensors/${sensor.id}`)\n  .set(&#x27;authorization&#x27;, `Bearer ${token}`)\n  .send(sensor)\n  .end((err, res) =&gt; {\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;73db4a24-77ac-4aec-b392-2207acc685f6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;abab0e31-56f3-4a33-a8fa-ef3339685a61&quot;,&quot;title&quot;:&quot;Get Measurements&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/measurment.admin.test.js&quot;,&quot;file&quot;:&quot;/test/measurment.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all the measurements for a given sensor&quot;,&quot;fullTitle&quot;:&quot;Measurements with admin previledges Get Measurements it should GET all the measurements for a given sensor&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/${domain}/sensors/${sensor.id}/measurements`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    res.body.should.be.a(&#x27;array&#x27;);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;361e48ca-0acf-427e-91a0-66ce4e23c608&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;361e48ca-0acf-427e-91a0-66ce4e23c608&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:26,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;3289aa98-2900-4d7f-9f99-08f8dba6f365&quot;,&quot;title&quot;:&quot;POST Measurements&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/measurment.admin.test.js&quot;,&quot;file&quot;:&quot;/test/measurment.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should add a measurement value for a given sensor&quot;,&quot;fullTitle&quot;:&quot;Measurements with admin previledges POST Measurements it should add a measurement value for a given sensor&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(`/domains/${domain}/sensors/${sensor.id}/measurements`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send(measurement)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    //res.body.should.be.a(&#x27;array&#x27;);\n    //console.log(res);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0a0f983b-eb05-47fe-b3e9-089d216c3775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0a0f983b-eb05-47fe-b3e9-089d216c3775&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:25,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;e7ab6296-3df6-4642-9ad7-1cc7d867d90e&quot;,&quot;title&quot;:&quot;Get a single Measurement&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/measurment.admin.test.js&quot;,&quot;file&quot;:&quot;/test/measurment.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all the measurements for a given sensor&quot;,&quot;fullTitle&quot;:&quot;Measurements with admin previledges Get a single Measurement it should GET all the measurements for a given sensor&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/${domain}/sensors/${sensor.id}/measurements/${measurement.id}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    //res.body.should.be.a(&#x27;array&#x27;);\n    //console.log(res);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;98d34762-eb3b-4456-951d-87a2a7e268b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;98d34762-eb3b-4456-951d-87a2a7e268b9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:29,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;efc3bfcc-135f-4589-8b55-060332561d5e&quot;,&quot;title&quot;:&quot;Update Name of a Measurement&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/measurment.admin.test.js&quot;,&quot;file&quot;:&quot;/test/measurment.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should update the name of the measurement field&quot;,&quot;fullTitle&quot;:&quot;Measurements with admin previledges Update Name of a Measurement it should update the name of the measurement field&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:141,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .put(`/domains/${domain}/sensors/${sensor.id}/measurements/${measurement.id}/name`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .set(&#x27;content-type&#x27;, &#x27;text/plain&#x27;)\n  .send(\&quot;ss1\&quot;)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    chai.request(baseUrl)\n      .get(`/domains/${domain}/sensors/${sensor.id}/measurements/${measurement.id}`)\n      .end((err, res) =&gt; {\n        res.body.should.be.a(&#x27;object&#x27;);\n        res.body.should.have.property(&#x27;name&#x27;).eql(&#x27;ss1&#x27;);\n        done();\n      })\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c1639254-9d2a-4c6e-b507-66bb938a356e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c1639254-9d2a-4c6e-b507-66bb938a356e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:141,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;292504f5-c1e4-4f30-9e46-4da10c44af26&quot;,&quot;title&quot;:&quot;Update Dimention of a Measurement&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/measurment.admin.test.js&quot;,&quot;file&quot;:&quot;/test/measurment.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should update the dimention of the measurement field&quot;,&quot;fullTitle&quot;:&quot;Measurements with admin previledges Update Dimention of a Measurement it should update the dimention of the measurement field&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:148,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .put(`/domains/${domain}/sensors/${sensor.id}/measurements/${measurement.id}/dimension`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .set(&#x27;content-type&#x27;, &#x27;text/plain&#x27;)\n  .send(\&quot;degree\&quot;)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    chai.request(baseUrl)\n      .get(`/domains/${domain}/sensors/${sensor.id}/measurements/${measurement.id}`)\n      .end((err, res) =&gt; {\n        //res.body.should.be.a(&#x27;object&#x27;);\n        //res.body.should.have.property(&#x27;dimension&#x27;).eql(&#x27;degree&#x27;);\n        done();\n      })\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;00cfe8cb-687a-42ac-b59a-c8f3eb51bcdf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;00cfe8cb-687a-42ac-b59a-c8f3eb51bcdf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:148,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;60192178-9313-4bae-8114-44a7dad74576&quot;,&quot;title&quot;:&quot;Update dimention&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/measurment.admin.test.js&quot;,&quot;file&quot;:&quot;/test/measurment.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should update the dimention of the measurement field&quot;,&quot;fullTitle&quot;:&quot;Measurements with admin previledges Update dimention it should update the dimention of the measurement field&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:128,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .put(`/domains/${domain}/sensors/${sensor.id}/measurements/${measurement.id}/dimension`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .set(&#x27;content-type&#x27;, &#x27;text/plain&#x27;)\n  .send(\&quot;degree\&quot;)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    chai.request(baseUrl)\n      .get(`/domains/${domain}/sensors/${sensor.id}/measurements/${measurement.id}`)\n      .end((err, res) =&gt; {\n        //res.body.should.be.a(&#x27;object&#x27;);\n        //res.body.should.have.property(&#x27;dimension&#x27;).eql(&#x27;degree&#x27;);\n        done();\n      })\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cc6a2d4d-09dc-4e5b-a847-7834e5d10e19&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cc6a2d4d-09dc-4e5b-a847-7834e5d10e19&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:128,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;7b8a3e94-02b6-4630-954e-5593551e759a&quot;,&quot;title&quot;:&quot;Update unit&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/measurment.admin.test.js&quot;,&quot;file&quot;:&quot;/test/measurment.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should update the dimention of the measurement field&quot;,&quot;fullTitle&quot;:&quot;Measurements with admin previledges Update unit it should update the dimention of the measurement field&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:126,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .put(`/domains/${domain}/sensors/${sensor.id}/measurements/${measurement.id}/unit`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .set(&#x27;content-type&#x27;, &#x27;text/plain&#x27;)\n  .send(\&quot;degree\&quot;)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    chai.request(baseUrl)\n      .get(`/domains/${domain}/sensors/${sensor.id}/measurements/${measurement.id}`)\n      .end((err, res) =&gt; {\n        //res.body.should.be.a(&#x27;object&#x27;);\n        //res.body.should.have.property(&#x27;dimension&#x27;).eql(&#x27;degree&#x27;);\n        done();\n      })\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;97056c7a-4d5b-42e6-a060-a7d77178d98d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;97056c7a-4d5b-42e6-a060-a7d77178d98d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:126,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;807fd0e5-f20e-4fdf-8e62-1157e2ea9c56&quot;,&quot;title&quot;:&quot;get measurement values&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/measurment.admin.test.js&quot;,&quot;file&quot;:&quot;/test/measurment.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET get measurement values&quot;,&quot;fullTitle&quot;:&quot;Measurements with admin previledges get measurement values it should GET get measurement values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/${domain}/sensors/${sensor.id}/measurements/${measurement.id}/values`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    //res.body.should.be.a(&#x27;array&#x27;);\n    //console.log(res);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e8ba2413-dfc9-4409-bb8f-c6ba12e3df59&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e8ba2413-dfc9-4409-bb8f-c6ba12e3df59&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;5bd18094-13fa-4ad6-bb81-316e5657d62a&quot;,&quot;title&quot;:&quot;get paginated measurement values&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/measurment.admin.test.js&quot;,&quot;file&quot;:&quot;/test/measurment.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET get measurement values&quot;,&quot;fullTitle&quot;:&quot;Measurements with admin previledges get paginated measurement values it should GET get measurement values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/${domain}/sensors/${sensor.id}/measurements/${measurement.id}/values?vLimit=10&amp;vOffset=0&amp;vDateFrom=2016-01-01T00:00:00.000Z&amp;vDateTo=2016-01-31T23:59:59.999Z`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    res.body.should.be.a(&#x27;array&#x27;);\n    res.body.should.have.lengthOf.below(11);\n    //console.log(res);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a9886a81-4b51-4eef-8f17-5f406f594509&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a9886a81-4b51-4eef-8f17-5f406f594509&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;51dc553f-ce11-4928-be72-50aa3b45e127&quot;,&quot;title&quot;:&quot;Measurements&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/measurment.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/measurment.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Measurements \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:233,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(&#x27;/auth/token&#x27;)\n  .send(userCredentials)\n  .end(function (err, response) {\n    token = response.text;\n    chai.request(baseUrl)\n      .post(`/domains/${domain}/sensors`)\n      .set(&#x27;authorization&#x27;, `Bearer ${token}`)\n      .send(sensor)\n      .end((err, res) =&gt; {\n        done();\n      });\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bfcca791-0d1c-4682-8203-361fd147fe9e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Measurements \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:74,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .delete(`/domains/${domain}/sensors/${sensor.id}`)\n  .set(&#x27;authorization&#x27;, `Bearer ${token}`)\n  .send(sensor)\n  .end((err, res) =&gt; {\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;461f0528-6189-4d9c-a453-1fe6841e0993&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b25f407d-1fd9-4afe-9af4-77bd44723e80&quot;,&quot;title&quot;:&quot;Get Measurements&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/measurment.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/measurment.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all the measurements for a given sensor&quot;,&quot;fullTitle&quot;:&quot;Measurements Get Measurements it should GET all the measurements for a given sensor&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/${domain}/sensors/${sensor.id}/measurements`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    res.body.should.be.a(&#x27;array&#x27;);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a9126d1c-fa75-4fb2-8d9b-96d4998fe298&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a9126d1c-fa75-4fb2-8d9b-96d4998fe298&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:112,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;6f85edac-7605-4b15-bef3-d103fa512f89&quot;,&quot;title&quot;:&quot;POST Measurements&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/measurment.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/measurment.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should add a measurement value for a given sensor&quot;,&quot;fullTitle&quot;:&quot;Measurements POST Measurements it should add a measurement value for a given sensor&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(`/domains/${domain}/sensors/${sensor.id}/measurements`)\n  .send(measurement)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a5f8d36e-1d59-4e85-ac2e-038bf5047b5a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a5f8d36e-1d59-4e85-ac2e-038bf5047b5a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:101,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;28d8db68-d0ad-484c-b12d-23a9e37c1cc1&quot;,&quot;title&quot;:&quot;Get a single Measurement&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/measurment.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/measurment.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET a single the measurements for a given sensor&quot;,&quot;fullTitle&quot;:&quot;Measurements Get a single Measurement it should GET a single the measurements for a given sensor&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:105,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/${domain}/sensors/${sensor.id}/measurements/${measurement.id}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e30ec83f-4ea2-4cf4-8bba-4248ea9dced8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e30ec83f-4ea2-4cf4-8bba-4248ea9dced8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:105,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;7b909c0c-7b8d-4d17-9499-3ee57aded20c&quot;,&quot;title&quot;:&quot;Update Name of a Measurement&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/measurment.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/measurment.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should update the name of the measurement field&quot;,&quot;fullTitle&quot;:&quot;Measurements Update Name of a Measurement it should update the name of the measurement field&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .put(`/domains/${domain}/sensors/${sensor.id}/measurements/${measurement.id}/name`)\n  .set(&#x27;content-type&#x27;, &#x27;text/plain&#x27;)\n  .send(\&quot;ss1\&quot;)\n  .end((err, res) =&gt; {\n    res.should.have.status(403);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d2160d82-99dc-4556-9656-126aa74f0856&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d2160d82-99dc-4556-9656-126aa74f0856&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:93,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;347939d7-4490-4c02-8702-4fc8a616b7db&quot;,&quot;title&quot;:&quot;Update Dimention of a Measurement&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/measurment.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/measurment.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should update the dimention of the measurement field&quot;,&quot;fullTitle&quot;:&quot;Measurements Update Dimention of a Measurement it should update the dimention of the measurement field&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .put(`/domains/${domain}/sensors/${sensor.id}/measurements/${measurement.id}/dimension`)\n  .set(&#x27;content-type&#x27;, &#x27;text/plain&#x27;)\n  .send(\&quot;degree\&quot;)\n  .end((err, res) =&gt; {\n    res.should.have.status(403);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4b42d7a1-14c0-43bc-a78c-53fb23eaaa92&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4b42d7a1-14c0-43bc-a78c-53fb23eaaa92&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:91,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;d5cd4b7b-fe36-46bd-9629-bd037ba91ee0&quot;,&quot;title&quot;:&quot;Update dimention&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/measurment.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/measurment.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should update the dimention of the measurement field&quot;,&quot;fullTitle&quot;:&quot;Measurements Update dimention it should update the dimention of the measurement field&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:96,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .put(`/domains/${domain}/sensors/${sensor.id}/measurements/${measurement.id}/dimension`)\n  .set(&#x27;content-type&#x27;, &#x27;text/plain&#x27;)\n  .send(\&quot;degree\&quot;)\n  .end((err, res) =&gt; {\n    res.should.have.status(403);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;24619592-629b-4ec9-ad5a-bc36297b8fd1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;24619592-629b-4ec9-ad5a-bc36297b8fd1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:96,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;00b31f26-9e2b-4e2f-88fa-01adf439f7ef&quot;,&quot;title&quot;:&quot;Update unit&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/measurment.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/measurment.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should update the dimention of the measurement field&quot;,&quot;fullTitle&quot;:&quot;Measurements Update unit it should update the dimention of the measurement field&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:97,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .put(`/domains/${domain}/sensors/${sensor.id}/measurements/${measurement.id}/unit`)\n  .set(&#x27;content-type&#x27;, &#x27;text/plain&#x27;)\n  .send(\&quot;degree\&quot;)\n  .end((err, res) =&gt; {\n    res.should.have.status(403);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7eba2289-982f-445a-aef9-40b8e45b2df1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7eba2289-982f-445a-aef9-40b8e45b2df1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:97,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;68a679f0-7cb2-406e-b953-7719266ea9ed&quot;,&quot;title&quot;:&quot;get paginated measurement values&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/measurment.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/measurment.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET get measurement values&quot;,&quot;fullTitle&quot;:&quot;Measurements get paginated measurement values it should GET get measurement values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:100,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/${domain}/sensors/${sensor.id}/measurements/${measurement.id}/values?vLimit=10&amp;vOffset=0&amp;vDateFrom=2016-01-01T00:00:00.000Z&amp;vDateTo=2016-01-31T23:59:59.999Z`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    res.body.should.be.a(&#x27;array&#x27;);\n    res.body.should.have.lengthOf.below(11);\n    //console.log(res);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;db657a45-ca9d-485f-bbe2-f450664573c1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;db657a45-ca9d-485f-bbe2-f450664573c1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:100,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;35c295cb-d18e-4713-8261-0659c409ed94&quot;,&quot;title&quot;:&quot;Notifications&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/notifications.test.js&quot;,&quot;file&quot;:&quot;/test/notifications.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2055bd90-378b-4779-bcf0-9f9ea59083a4&quot;,&quot;title&quot;:&quot;post a message to social networks&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/notifications.test.js&quot;,&quot;file&quot;:&quot;/test/notifications.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should post a message to social networks&quot;,&quot;fullTitle&quot;:&quot;Notifications post a message to social networks it should post a message to social networks&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(`/domains/${domain}/notifications`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send(notification)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f5149fc5-6a3e-482e-9c62-835e26304991&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f5149fc5-6a3e-482e-9c62-835e26304991&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:22,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;faa3f546-0da7-4161-ad2a-d2b59eb4efc0&quot;,&quot;title&quot;:&quot;Get all notifications&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/notifications.test.js&quot;,&quot;file&quot;:&quot;/test/notifications.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all the messages posted on social networks&quot;,&quot;fullTitle&quot;:&quot;Notifications Get all notifications it should GET all the messages posted on social networks&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/${domain}/notifications`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    res.body.should.be.a(&#x27;array&#x27;);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;be4d29c6-c54d-479c-bdfc-7d524e6ed72e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;be4d29c6-c54d-479c-bdfc-7d524e6ed72e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:21,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;c8fd5369-13df-4094-baeb-b755ff460c32&quot;,&quot;title&quot;:&quot;Get a one message&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/notifications.test.js&quot;,&quot;file&quot;:&quot;/test/notifications.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should get a single notificaion&quot;,&quot;fullTitle&quot;:&quot;Notifications Get a one message it should get a single notificaion&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/${domain}/notifications/${sampleNotification.id}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    done();\n  });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 200 but got 500&quot;,&quot;estack&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 200 but got 500\n    at chai.request.get.set.end (test/notifications.test.js:68:27)\n    at Test.Request.callback (node_modules/superagent/lib/node/index.js:631:3)\n    at node_modules/superagent/lib/node/index.js:795:18\n    at IncomingMessage.&lt;anonymous&gt; (node_modules/superagent/lib/node/parsers/json.js:16:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)&quot;,&quot;diff&quot;:&quot;- 500\n+ 200\n&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8df37915-8c70-4a25-86c6-fd4de789ef43&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should return not found for notification that doesnt exist&quot;,&quot;fullTitle&quot;:&quot;Notifications Get a one message it should return not found for notification that doesnt exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/${domain}/notifications/this-id-doesnt-exist${Date.now()}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(400);\n    done();\n  });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 400 but got 500&quot;,&quot;estack&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 400 but got 500\n    at chai.request.get.set.end (test/notifications.test.js:77:27)\n    at Test.Request.callback (node_modules/superagent/lib/node/index.js:631:3)\n    at node_modules/superagent/lib/node/index.js:795:18\n    at IncomingMessage.&lt;anonymous&gt; (node_modules/superagent/lib/node/parsers/json.js:16:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)&quot;,&quot;diff&quot;:&quot;- 500\n+ 400\n&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ae052420-d835-43db-8934-f44314591ea3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;8df37915-8c70-4a25-86c6-fd4de789ef43&quot;,&quot;ae052420-d835-43db-8934-f44314591ea3&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:null,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;fc1532f6-dc42-43f3-8b38-c226cb91e872&quot;,&quot;title&quot;:&quot;delete a message to social networks&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/notifications.test.js&quot;,&quot;file&quot;:&quot;/test/notifications.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should delete a message to social networks&quot;,&quot;fullTitle&quot;:&quot;Notifications delete a message to social networks it should delete a message to social networks&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .delete(`/domains/${domain}/notifications/${sampleNotification.id}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;32613e4d-ae2e-40d4-8964-cce58db9e47b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should return not found for message that doesnt exist&quot;,&quot;fullTitle&quot;:&quot;Notifications delete a message to social networks it should return not found for message that doesnt exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .delete(`/domains/${domain}/notifications/this-id-doesnt-exist${Date.now()}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(404);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b3a9ab9d-3abb-4e9e-9a29-522d0ed36b47&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;32613e4d-ae2e-40d4-8964-cce58db9e47b&quot;,&quot;b3a9ab9d-3abb-4e9e-9a29-522d0ed36b47&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:35,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;c030305e-3317-46d1-8388-7792a3d74a6e&quot;,&quot;title&quot;:&quot;Sensors with admin previledges&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/sensor.admin.test.js&quot;,&quot;file&quot;:&quot;/test/sensor.admin.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Sensors with admin previledges \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:98,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(&#x27;/auth/token&#x27;)\n  .send(userCredentials)\n  .end(function (err, response) {\n    token = response.text;\n    chai.request(baseUrl)\n      .delete(`/domains/${domain}/sensors/${sensor.id}`)\n      .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n      .end((err, rss) =&gt; {\n        done();\n      })\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0eeb98cc-e0cc-4f83-bb2b-7638bbaf80b8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;db0ceda8-930a-44cf-8fc3-ba360aa0bd2a&quot;,&quot;title&quot;:&quot;Get Sensors&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/sensor.admin.test.js&quot;,&quot;file&quot;:&quot;/test/sensor.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all the the senseors&quot;,&quot;fullTitle&quot;:&quot;Sensors with admin previledges Get Sensors it should GET all the the senseors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/${domain}/sensors`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    //res.body.should.be.a(&#x27;array&#x27;);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bc82826d-5b45-427b-9c60-1724916f5164&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bc82826d-5b45-427b-9c60-1724916f5164&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;9cddd744-74a2-43c0-b12a-0b24de7c1d66&quot;,&quot;title&quot;:&quot;Create sensors&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/sensor.admin.test.js&quot;,&quot;file&quot;:&quot;/test/sensor.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should POST a sensor &quot;,&quot;fullTitle&quot;:&quot;Sensors with admin previledges Create sensors it should POST a sensor &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:157,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(`/domains/${domain}/sensors`)\n  .set(&#x27;authorization&#x27;, `Bearer ${token}`)\n  .send(sensor)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bf5ea067-ac68-47b1-8819-c9b58872b60f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should Reject posting data with repeated values&quot;,&quot;fullTitle&quot;:&quot;Sensors with admin previledges Create sensors it should Reject posting data with repeated values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(`/domains/${domain}/sensors`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send(sensor)\n  .end((err, res) =&gt; {\n    res.should.have.status(422);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4d67f9a5-3b5e-403a-96ee-c0e0300a8eca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should Reject posting a sensor with invalid data&quot;,&quot;fullTitle&quot;:&quot;Sensors with admin previledges Create sensors it should Reject posting a sensor with invalid data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(`/domains/${domain}/sensors`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send(invalidSensor)\n  .end((err, res) =&gt; {\n    res.should.have.status(400);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c636d065-0063-4f4f-9fce-475378be78c1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bf5ea067-ac68-47b1-8819-c9b58872b60f&quot;,&quot;4d67f9a5-3b5e-403a-96ee-c0e0300a8eca&quot;,&quot;c636d065-0063-4f4f-9fce-475378be78c1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:192,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;30a675ba-98bf-4564-83e8-e6ed0dfd983b&quot;,&quot;title&quot;:&quot;Get a Single Sensor&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/sensor.admin.test.js&quot;,&quot;file&quot;:&quot;/test/sensor.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET a sensor by the given id&quot;,&quot;fullTitle&quot;:&quot;Sensors with admin previledges Get a Single Sensor it should GET a sensor by the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:30,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n        .get(`/domains/${domain}/sensors/${sensor.id}`)\n        .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n        .end((err, res) =&gt; {\n          res.should.have.status(200);\n          res.body.should.be.a(&#x27;object&#x27;);\n          res.body.should.have.property(&#x27;gateway_id&#x27;);\n          res.body.should.have.property(&#x27;name&#x27;);\n          res.body.should.have.property(&#x27;owner&#x27;);\n          res.body.should.have.property(&#x27;measurements&#x27;);\n          res.body.should.have.property(&#x27;location&#x27;);\n          res.body.should.have.property(&#x27;id&#x27;).eql(sensor.id);\n          done();\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bcc1153a-b613-4386-9414-c67cba21bdd7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should give a 404 err a sensor with none existent id&quot;,&quot;fullTitle&quot;:&quot;Sensors with admin previledges Get a Single Sensor it should give a 404 err a sensor with none existent id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n        .get(`/domains/${domain}/sensors/this-id-does-not-exist`)\n        .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n        .end((err, res) =&gt; {\n          res.should.have.status(404);\n          done();\n        });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 404 but got 403&quot;,&quot;estack&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 404 but got 403\n    at chai.request.get.set.end (test/sensor.admin.test.js:99:27)\n    at Test.Request.callback (node_modules/superagent/lib/node/index.js:631:3)\n    at node_modules/superagent/lib/node/index.js:795:18\n    at IncomingMessage.&lt;anonymous&gt; (node_modules/superagent/lib/node/parsers/json.js:16:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)&quot;,&quot;diff&quot;:&quot;- 403\n+ 404\n&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d8cc9055-d01e-4dac-802b-4cbd1260bf24&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bcc1153a-b613-4386-9414-c67cba21bdd7&quot;],&quot;failures&quot;:[&quot;d8cc9055-d01e-4dac-802b-4cbd1260bf24&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:null,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;8a72c2c1-6b2b-4699-b976-83daa7df5198&quot;,&quot;title&quot;:&quot;Insert Owner&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/sensor.admin.test.js&quot;,&quot;file&quot;:&quot;/test/sensor.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should update the owner field&quot;,&quot;fullTitle&quot;:&quot;Sensors with admin previledges Insert Owner it should update the owner field&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:134,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .put(`/domains/${domain}/sensors/${sensor.id}/owner`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .set(&#x27;content-type&#x27;, &#x27;text/plain&#x27;)\n  .send(\&quot;henok\&quot;)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    chai.request(baseUrl)\n      .get(`/domains/${domain}/sensors/${sensor.id}`)\n      .end((err, res) =&gt; {\n        res.body.should.be.a(&#x27;object&#x27;);\n        res.body.should.have.property(&#x27;owner&#x27;).eql(&#x27;henok&#x27;);\n        done();\n      })\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b29fc772-dc58-4d37-a3c7-7bf6969ebb43&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b29fc772-dc58-4d37-a3c7-7bf6969ebb43&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:134,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;6d894cd7-bdac-46bf-b933-cefb199a948c&quot;,&quot;title&quot;:&quot;Insert Name&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/sensor.admin.test.js&quot;,&quot;file&quot;:&quot;/test/sensor.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should update the name field&quot;,&quot;fullTitle&quot;:&quot;Sensors with admin previledges Insert Name it should update the name field&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .put(`/domains/${domain}/sensors/${sensor.id}/name`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .set(&#x27;content-type&#x27;, &#x27;text/plain&#x27;)\n  .send(\&quot;SEN1\&quot;)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    chai.request(baseUrl)\n      .get(`/domains/${domain}/sensors/${sensor.id}`)\n      .end((err, res) =&gt; {\n        res.body.should.be.a(&#x27;object&#x27;);\n        res.body.should.have.property(&#x27;name&#x27;).eql(&#x27;SEN1&#x27;);\n        done();\n      })\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4581b185-66de-4b9d-95d4-dfb5bb4943ca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4581b185-66de-4b9d-95d4-dfb5bb4943ca&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:116,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;0054fcbc-d6e4-43cd-9644-490f24c9f7d2&quot;,&quot;title&quot;:&quot;Insert Location&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/sensor.admin.test.js&quot;,&quot;file&quot;:&quot;/test/sensor.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should update the location field&quot;,&quot;fullTitle&quot;:&quot;Sensors with admin previledges Insert Location it should update the location field&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:132,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .put(`/domains/${domain}/sensors/${sensor.id}/location`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({\n    \&quot;latitude\&quot;: 5.36,\n    \&quot;longitude\&quot;: 4.0083\n  })\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    chai.request(baseUrl)\n      .get(`/domains/${domain}/sensors/${sensor.id}`)\n      .end((err, res) =&gt; {\n        res.body.should.be.a(&#x27;object&#x27;);\n        res.body.location.should.have.property(&#x27;latitude&#x27;).eql(5.36);\n        res.body.location.should.have.property(&#x27;longitude&#x27;).eql(4.0083);\n        done();\n      })\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f26a1646-9dff-4a27-a9d5-8fa5f3ae82fa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f26a1646-9dff-4a27-a9d5-8fa5f3ae82fa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:132,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;1cd4ac42-3ab9-4a75-aa32-7d65fce0ef49&quot;,&quot;title&quot;:&quot;Remove Sensor&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/sensor.admin.test.js&quot;,&quot;file&quot;:&quot;/test/sensor.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should Remove a sensor by the given id&quot;,&quot;fullTitle&quot;:&quot;Sensors with admin previledges Remove Sensor it should Remove a sensor by the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:64,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .delete(`/domains/${domain}/sensors/${sensor.id}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cd6591b3-7b7b-4207-9a9b-3376b80ac376&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cd6591b3-7b7b-4207-9a9b-3376b80ac376&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:64,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;71046dce-cd9e-4dd1-80cf-b84d12b19fc8&quot;,&quot;title&quot;:&quot;Sensors&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/sensor.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/sensor.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4c3633b4-745b-4123-8578-a4a60de4b9ad&quot;,&quot;title&quot;:&quot;Get Sensors&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/sensor.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/sensor.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all the the senseors&quot;,&quot;fullTitle&quot;:&quot;Sensors Get Sensors it should GET all the the senseors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:107,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/${domain}/sensors`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    //res.body.should.be.a(&#x27;array&#x27;);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;20361629-e302-4f32-903b-76ac8f444f2d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;20361629-e302-4f32-903b-76ac8f444f2d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:107,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;63dafbda-248d-4d25-897b-fe7981837376&quot;,&quot;title&quot;:&quot;Create sensors&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/sensor.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/sensor.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should POST a sensor &quot;,&quot;fullTitle&quot;:&quot;Sensors Create sensors it should POST a sensor &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:226,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(`/domains/${domain}/sensors`)\n  .send(sensor)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;59b0b754-646e-4be7-92f0-e13ac1d80a73&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should Reject posting data with reapeted values&quot;,&quot;fullTitle&quot;:&quot;Sensors Create sensors it should Reject posting data with reapeted values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:98,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(`/domains/${domain}/sensors`)\n  .send(sensor)\n  .end((err, res) =&gt; {\n    res.should.have.status(422);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0282242a-8e80-4edf-b17e-d49c8ea88b56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should Reject posting a sensor with invalid data&quot;,&quot;fullTitle&quot;:&quot;Sensors Create sensors it should Reject posting a sensor with invalid data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(`/domains/${domain}/sensors`)\n  .send(invalidSensor)\n  .end((err, res) =&gt; {\n    res.should.have.status(400);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a4f9bc7b-3beb-45d6-bb83-cb2e65d699ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;59b0b754-646e-4be7-92f0-e13ac1d80a73&quot;,&quot;0282242a-8e80-4edf-b17e-d49c8ea88b56&quot;,&quot;a4f9bc7b-3beb-45d6-bb83-cb2e65d699ec&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:440,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;24276c74-6438-46f4-b92c-3b238c9d1248&quot;,&quot;title&quot;:&quot;single sensor&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/sensor.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/sensor.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET a sensor by the given id&quot;,&quot;fullTitle&quot;:&quot;Sensors single sensor it should GET a sensor by the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:140,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n        .get(`/domains/${domain}/sensors/${sensor.id}`)\n        .end((err, res) =&gt; {\n          res.should.have.status(200);\n          res.body.should.be.a(&#x27;object&#x27;);\n          res.body.should.have.property(&#x27;gateway_id&#x27;);\n          res.body.should.have.property(&#x27;name&#x27;);\n          res.body.should.have.property(&#x27;owner&#x27;);\n          res.body.should.have.property(&#x27;measurements&#x27;);\n          res.body.should.have.property(&#x27;location&#x27;);\n          res.body.should.have.property(&#x27;id&#x27;).eql(sensor.id);\n          done();\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bd2a2a7e-e7ba-4287-a967-ff7a9cc7126c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should give a 404 err a sensor with none existent id&quot;,&quot;fullTitle&quot;:&quot;Sensors single sensor it should give a 404 err a sensor with none existent id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n        .get(`/domains/${domain}/sensors/this-id-does-not-exist`)\n        .end((err, res) =&gt; {\n          res.should.have.status(404);\n          done();\n        });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 404 but got 403&quot;,&quot;estack&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 404 but got 403\n    at chai.request.get.end (test/sensor.unauthorized.test.js:92:27)\n    at Test.Request.callback (node_modules/superagent/lib/node/index.js:631:3)\n    at node_modules/superagent/lib/node/index.js:795:18\n    at IncomingMessage.&lt;anonymous&gt; (node_modules/superagent/lib/node/parsers/json.js:16:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)&quot;,&quot;diff&quot;:&quot;- 403\n+ 404\n&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;97f9182a-9812-4ab3-9ed2-b4244b8d61e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bd2a2a7e-e7ba-4287-a967-ff7a9cc7126c&quot;],&quot;failures&quot;:[&quot;97f9182a-9812-4ab3-9ed2-b4244b8d61e4&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:null,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;170f473f-bb7f-4e69-9486-27ae918d4138&quot;,&quot;title&quot;:&quot;insert owner&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/sensor.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/sensor.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should update the owner field&quot;,&quot;fullTitle&quot;:&quot;Sensors insert owner it should update the owner field&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .put(`/domains/${domain}/sensors/${sensor.id}/owner`)\n  .set(&#x27;content-type&#x27;, &#x27;text/plain&#x27;)\n  .send(\&quot;henok\&quot;)\n  .end((err, res) =&gt; {\n    res.should.have.status(403);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;51d8a694-d999-409e-a2d9-9ba80d97f00e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;51d8a694-d999-409e-a2d9-9ba80d97f00e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:92,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;500ae3ec-6745-4797-89a8-1fd67388e564&quot;,&quot;title&quot;:&quot;insert name&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/sensor.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/sensor.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should update the name field&quot;,&quot;fullTitle&quot;:&quot;Sensors insert name it should update the name field&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:94,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .put(`/domains/${domain}/sensors/${sensor.id}/name`)\n  .set(&#x27;content-type&#x27;, &#x27;text/plain&#x27;)\n  .send(\&quot;SEN1\&quot;)\n  .end((err, res) =&gt; {\n    res.should.have.status(403);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b3d6da2b-9038-4686-8b27-1027945ca807&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b3d6da2b-9038-4686-8b27-1027945ca807&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:94,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;4e6cbabd-287b-4935-b31d-d7dda034a691&quot;,&quot;title&quot;:&quot;insert location&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/sensor.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/sensor.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should update the location field&quot;,&quot;fullTitle&quot;:&quot;Sensors insert location it should update the location field&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:96,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .put(`/domains/${domain}/sensors/${sensor.id}/location`)\n  .send({\n    \&quot;latitude\&quot;: 5.36,\n    \&quot;longitude\&quot;: 4.0083\n  })\n  .end((err, res) =&gt; {\n    res.should.have.status(403);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ea04ec56-7250-49ac-afb4-b756a7091261&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ea04ec56-7250-49ac-afb4-b756a7091261&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:96,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;8d93a828-6e61-456e-976c-6a2400569a2c&quot;,&quot;title&quot;:&quot;insert sensor kind&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/sensor.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/sensor.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should update the sensor kind field&quot;,&quot;fullTitle&quot;:&quot;Sensors insert sensor kind it should update the sensor kind field&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:99,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .put(`/domains/${domain}/sensors/${sensor.id}/sensor_kind`)\n  .set(&#x27;content-type&#x27;, &#x27;text/plain&#x27;)\n  .send(\&quot;Soil moisture sensor\&quot;)\n  .end((err, res) =&gt; {\n    res.should.have.status(403);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;367d0ead-1404-4308-a820-115bbd03c19f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;367d0ead-1404-4308-a820-115bbd03c19f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:99,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;2107f056-1614-4d31-ae89-a37aa0a94d9b&quot;,&quot;title&quot;:&quot;Remove sensor&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/sensor.unauthorized.test.js&quot;,&quot;file&quot;:&quot;/test/sensor.unauthorized.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should Remove a sensor by the given id&quot;,&quot;fullTitle&quot;:&quot;Sensors Remove sensor it should Remove a sensor by the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:94,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .delete(`/domains/${domain}/sensors/${sensor.id}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(403);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7d2adc09-231c-4004-ad79-0d9d1456d8f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7d2adc09-231c-4004-ad79-0d9d1456d8f5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:94,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;ae5522bb-4ea5-4f53-bf2b-d36e37337afc&quot;,&quot;title&quot;:&quot;Socials &quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/socials.test.js&quot;,&quot;file&quot;:&quot;/test/socials.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4a11c657-c301-45aa-8c2d-a406beb2d1c4&quot;,&quot;title&quot;:&quot;Get all messages sent&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/socials.test.js&quot;,&quot;file&quot;:&quot;/test/socials.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all the messages sent&quot;,&quot;fullTitle&quot;:&quot;Socials  Get all messages sent it should GET all the messages sent&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n\t.get(`/domains/${domain}/socials`)\n\t.end((err, res) =&gt; {\n\t\tres.should.have.status(200);\n\t\tres.body.should.be.a(&#x27;array&#x27;);\n\t\tdone();\n\t});&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 200 but got 503&quot;,&quot;estack&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 200 but got 503\n    at chai.request.get.end (test/socials.test.js:18:22)\n    at Test.Request.callback (node_modules/superagent/lib/node/index.js:631:3)\n    at IncomingMessage.&lt;anonymous&gt; (node_modules/superagent/lib/node/index.js:795:18)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)&quot;,&quot;diff&quot;:&quot;- 503\n+ 200\n&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b946b337-3bda-4ac4-ab51-3787f4c74916&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;b946b337-3bda-4ac4-ab51-3787f4c74916&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:null,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;c2f14964-c9bb-4389-b3e9-db1895cd2f15&quot;,&quot;title&quot;:&quot;post a message to social networks&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/socials.test.js&quot;,&quot;file&quot;:&quot;/test/socials.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should post a message to social networds&quot;,&quot;fullTitle&quot;:&quot;Socials  post a message to social networks it should post a message to social networds&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n\t.post(`/domains/${domain}/socials`)\n\t.send(socialData)\n\t.end((err, res) =&gt; {\n\t\tres.should.have.status(200);\n\t\tdone();\n\t});&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 200 but got 500&quot;,&quot;estack&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 200 but got 500\n    at chai.request.post.send.end (test/socials.test.js:30:22)\n    at Test.Request.callback (node_modules/superagent/lib/node/index.js:631:3)\n    at IncomingMessage.&lt;anonymous&gt; (node_modules/superagent/lib/node/index.js:795:18)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)&quot;,&quot;diff&quot;:&quot;- 500\n+ 200\n&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;fa40ef2b-f2e1-42b2-b40a-a139e51ceb09&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;fa40ef2b-f2e1-42b2-b40a-a139e51ceb09&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:null,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;2cc945cb-ee91-4b4e-9304-fc75abd2b0c0&quot;,&quot;title&quot;:&quot;Users with admin Previledges&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/users.admin.test.js&quot;,&quot;file&quot;:&quot;/test/users.admin.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Users with admin Previledges \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:95,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(&#x27;/auth/token&#x27;)\n  .send(userCredentials)\n  .end(function (err, response) {\n    token = response.text;\n    chai.request(baseUrl)\n    .get(`/domains/${domain}/users/${userData.id}`)\n    .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n    .end((err, res) =&gt; {\n      done();\n    });\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4348b2d6-6311-440d-9047-66fc23075196&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1decace3-e6a1-42c2-9756-17b508224954&quot;,&quot;title&quot;:&quot;Get all users in a realm&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/users.admin.test.js&quot;,&quot;file&quot;:&quot;/test/users.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should Get all users in a realm&quot;,&quot;fullTitle&quot;:&quot;Users with admin Previledges Get all users in a realm it should Get all users in a realm&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/${domain}/users`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    done();\n  });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 200 but got 403&quot;,&quot;estack&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 200 but got 403\n    at chai.request.get.set.end (test/users.admin.test.js:37:27)\n    at Test.Request.callback (node_modules/superagent/lib/node/index.js:631:3)\n    at node_modules/superagent/lib/node/index.js:795:18\n    at IncomingMessage.&lt;anonymous&gt; (node_modules/superagent/lib/node/parsers/json.js:16:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)&quot;,&quot;diff&quot;:&quot;- 403\n+ 200\n&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;91498c47-4f9a-4396-863e-9b0d91b32c0f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;91498c47-4f9a-4396-863e-9b0d91b32c0f&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:null,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;ca76c773-249e-4224-854d-772e055785b6&quot;,&quot;title&quot;:&quot;Create a new user in a realm&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/users.admin.test.js&quot;,&quot;file&quot;:&quot;/test/users.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should Create a new user in a realm&quot;,&quot;fullTitle&quot;:&quot;Users with admin Previledges Create a new user in a realm it should Create a new user in a realm&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .post(`/domains/${domain}/users`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send(userData)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    done();\n  });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 200 but got 403&quot;,&quot;estack&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 200 but got 403\n    at chai.request.post.set.send.end (test/users.admin.test.js:49:27)\n    at Test.Request.callback (node_modules/superagent/lib/node/index.js:631:3)\n    at node_modules/superagent/lib/node/index.js:795:18\n    at IncomingMessage.&lt;anonymous&gt; (node_modules/superagent/lib/node/parsers/json.js:16:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)&quot;,&quot;diff&quot;:&quot;- 403\n+ 200\n&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;acca2c3a-8fd4-4f9a-85bf-6caa341620a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;acca2c3a-8fd4-4f9a-85bf-6caa341620a2&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:null,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;1c1b7a07-4205-4f34-83ef-89fa91fa50a1&quot;,&quot;title&quot;:&quot;Search users with specific criteria&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/users.admin.test.js&quot;,&quot;file&quot;:&quot;/test/users.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should Search users with specific criteria&quot;,&quot;fullTitle&quot;:&quot;Users with admin Previledges Search users with specific criteria it should Search users with specific criteria&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/${domain}/users/search/`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    done();\n  });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 200 but got 403&quot;,&quot;estack&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 200 but got 403\n    at chai.request.get.set.end (test/users.admin.test.js:60:27)\n    at Test.Request.callback (node_modules/superagent/lib/node/index.js:631:3)\n    at node_modules/superagent/lib/node/index.js:795:18\n    at IncomingMessage.&lt;anonymous&gt; (node_modules/superagent/lib/node/parsers/json.js:16:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)&quot;,&quot;diff&quot;:&quot;- 403\n+ 200\n&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4372af18-3ff5-42bb-bbc7-f5e68a58a414&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;4372af18-3ff5-42bb-bbc7-f5e68a58a414&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:null,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;33823da4-6e3a-476e-8ace-e7c1d549c819&quot;,&quot;title&quot;:&quot;Get a Specific user&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/users.admin.test.js&quot;,&quot;file&quot;:&quot;/test/users.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should Get a Specific user&quot;,&quot;fullTitle&quot;:&quot;Users with admin Previledges Get a Specific user it should Get a Specific user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/${domain}/users/${userData.id}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    done();\n  });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 200 but got 403&quot;,&quot;estack&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 200 but got 403\n    at chai.request.get.set.end (test/users.admin.test.js:71:27)\n    at Test.Request.callback (node_modules/superagent/lib/node/index.js:631:3)\n    at node_modules/superagent/lib/node/index.js:795:18\n    at IncomingMessage.&lt;anonymous&gt; (node_modules/superagent/lib/node/parsers/json.js:16:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)&quot;,&quot;diff&quot;:&quot;- 403\n+ 200\n&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b282ef9f-a4e6-4222-b51a-418d7541545d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;b282ef9f-a4e6-4222-b51a-418d7541545d&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:null,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;90233290-1284-47f3-bf1e-35548af6a33c&quot;,&quot;title&quot;:&quot;update user data&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/users.admin.test.js&quot;,&quot;file&quot;:&quot;/test/users.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should update user data&quot;,&quot;fullTitle&quot;:&quot;Users with admin Previledges update user data it should update user data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .put(`/domains/${domain}/users/${userData.id}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({\n    \&quot;firstName\&quot;: \&quot;string\&quot;,\n    \&quot;lastName\&quot;: \&quot;string\&quot;,\n    \&quot;id\&quot;: \&quot;string\&quot;\n  })\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    done();\n  });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 200 but got 403&quot;,&quot;estack&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 200 but got 403\n    at chai.request.put.set.send.end (test/users.admin.test.js:87:27)\n    at Test.Request.callback (node_modules/superagent/lib/node/index.js:631:3)\n    at node_modules/superagent/lib/node/index.js:795:18\n    at IncomingMessage.&lt;anonymous&gt; (node_modules/superagent/lib/node/parsers/json.js:16:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)&quot;,&quot;diff&quot;:&quot;- 403\n+ 200\n&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;21db6497-9acf-44b0-816b-28ca084d4d61&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;21db6497-9acf-44b0-816b-28ca084d4d61&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:null,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;01eaca0c-8836-463e-9b74-50f8c93fc83d&quot;,&quot;title&quot;:&quot;Remove a user&quot;,&quot;fullFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/test/users.admin.test.js&quot;,&quot;file&quot;:&quot;/test/users.admin.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should Remove a user&quot;,&quot;fullTitle&quot;:&quot;Users with admin Previledges Remove a user it should Remove a user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai.request(baseUrl)\n  .get(`/domains/${domain}/users/${userData.id}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .end((err, res) =&gt; {\n    res.should.have.status(200);\n    done();\n  });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 200 but got 403&quot;,&quot;estack&quot;:&quot;AssertionError: expected { Object (domain, _events, ...) } to have status code 200 but got 403\n    at chai.request.get.set.end (test/users.admin.test.js:98:27)\n    at Test.Request.callback (node_modules/superagent/lib/node/index.js:631:3)\n    at node_modules/superagent/lib/node/index.js:795:18\n    at IncomingMessage.&lt;anonymous&gt; (node_modules/superagent/lib/node/parsers/json.js:16:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)&quot;,&quot;diff&quot;:&quot;- 403\n+ 200\n&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d6062c39-0743-4dab-9793-4b3e2bb5f714&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;d6062c39-0743-4dab-9793-4b3e2bb5f714&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:null,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:20000},&quot;copyrightYear&quot;:2018}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;tests&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:true,&quot;enableCharts&quot;:true,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/home/henok/Projects/nodesites/waz/Platform/tests/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>